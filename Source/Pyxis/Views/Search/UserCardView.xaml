<Page x:Class="Pyxis.Views.Search.UserCardView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:core="using:Microsoft.Xaml.Interactions.Core"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:i="using:Microsoft.Xaml.Interactivity"
      xmlns:items="using:Pyxis.Views.Items"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:vm="using:Pyxis.ViewModels.Search.Items"
      d:DataContext="{d:DesignInstance vm:UserCardViewModel}"
      d:DesignHeight="150"
      d:DesignWidth="450"
      mc:Ignorable="d">
    <Border BorderBrush="{ThemeResource AppBarBorderThemeBrush}"
            BorderThickness="1">
        <Grid x:Name="RootGrid"
              Background="{ThemeResource AppBarBackgroundThemeBrush}">
            <i:Interaction.Behaviors>
                <core:EventTriggerBehavior EventName="Tapped"
                                           SourceObject="{Binding ElementName=RootGrid}">
                    <core:CallMethodAction MethodName="OnItemTapped"
                                           TargetObject="{Binding}" />
                </core:EventTriggerBehavior>
            </i:Interaction.Behaviors>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="48"
                               MaxHeight="48" />
            </Grid.RowDefinitions>
            <items:ThumbnailView Grid.Row="0"
                                 Grid.RowSpan="2"
                                 Grid.Column="0"
                                 DataContext="{Binding UserWorks[0],
                                                       Mode=OneWay}" />
            <items:ThumbnailView Grid.Row="0"
                                 Grid.RowSpan="2"
                                 Grid.Column="1"
                                 DataContext="{Binding UserWorks[1],
                                                       Mode=OneWay}" />
            <items:ThumbnailView Grid.Row="0"
                                 Grid.RowSpan="2"
                                 Grid.Column="2"
                                 DataContext="{Binding UserWorks[2],
                                                       Mode=OneWay}" />
            <Grid Grid.Row="1"
                  Grid.Column="0"
                  Grid.ColumnSpan="3"
                  Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80" />
                    <ColumnDefinition />
                    <ColumnDefinition Width="110" />
                </Grid.ColumnDefinitions>
                <Border Width="64"
                        Height="64"
                        Margin="0,-32,0,0"
                        HorizontalAlignment="Center"
                        BorderBrush="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                        BorderThickness="2.5"
                        CornerRadius="32">
                    <Border.Background>
                        <ImageBrush ImageSource="{Binding ThumbnailPath, Mode=OneWay}" />
                    </Border.Background>
                </Border>
                <TextBlock Grid.Column="1"
                           Margin="10,0"
                           VerticalAlignment="Center"
                           Style="{ThemeResource TitleTextBlockStyle}"
                           Text="{Binding Username}"
                           TextTrimming="CharacterEllipsis" />
                <Button Grid.Column="2"
                        Margin="0,0,10,0"
                        HorizontalAlignment="Right"
                        Background="Transparent"
                        BorderBrush="{ThemeResource SystemControlForegroundAccentBrush}"
                        Foreground="{ThemeResource SystemControlForegroundAccentBrush}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                   FontSize="17"
                                   Text="&#xE8FA;" />
                        <TextBlock Margin="10,0,0,0"
                                   Text="フォロー" />
                    </StackPanel>
                </Button>
            </Grid>
        </Grid>
    </Border>
</Page>
